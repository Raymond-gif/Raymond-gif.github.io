---
layout: splash
title: "Example Page with Sidebar TOC"
permalink: /testscroll/
---

<!-- Sidebar TOC -->
<div class="sidebar-toc">
  <h3>Table of Contents</h3>
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li>
      <a href="#section-1">Section 1</a>
      <ul>
        <li><a href="#subsection-1-1">Subsection 1.1</a>
          <ul>
            <li><a href="#subsubsection-1-1-1">Subsubsection 1.1.1</a></li>
            <li><a href="#subsubsection-1-1-2">Subsubsection 1.1.2</a></li>
          </ul>
        </li>
        <li><a href="#subsection-1-2">Subsection 1.2</a></li>
      </ul>
    </li>
    <li><a href="#section-2">Section 2</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</div>

<div class="page-content">
  <h2 id="introduction">Introduction</h2>
  <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec nec purus eu ligula aliquet bibendum.</p>
  <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur nec odio ac sapien ultricies laoreet.</p>
  <p>Aliquam erat volutpat. Vestibulum euismod turpis vitae mauris malesuada, et interdum lectus pharetra.</p>
  <p>Morbi tristique, risus a tincidunt euismod, ipsum sem ultricies magna, ac placerat arcu metus vel neque.</p>
  <p>Sed viverra augue ac ante convallis, nec mattis mi gravida. Integer non ligula vel justo volutpat dictum.</p>
  <p>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas.</p>

  <h2 id="section-1">Section 1</h2>
  <p>Phasellus posuere, urna eget egestas tincidunt, libero felis ultrices urna, sit amet hendrerit velit urna at felis.</p>
  <p>Donec blandit suscipit ligula, vitae efficitur leo. Sed vitae risus eget orci porta vestibulum.</p>
  <p>Vivamus ut imperdiet eros. Morbi suscipit, ligula nec fringilla congue, felis erat fringilla odio.</p>
  <p>Aliquam vel ipsum nec lorem vestibulum tristique. Fusce at lectus elit. In eget volutpat orci.</p>
  <p>Integer ornare turpis vel sem varius, eget consequat erat posuere.</p>
  <p>Sed auctor, sapien vel gravida laoreet, purus justo venenatis erat, ac condimentum libero turpis at magna.</p>

  <h3 id="subsection-1-1">Subsection 1.1</h3>
  <p>Suspendisse potenti. Sed ultricies sem at quam ultrices, vel vehicula nunc fermentum.</p>
  <p>Nullam nec justo eget risus scelerisque varius. Integer vel neque id lacus luctus fermentum.</p>
  <p>Etiam sit amet congue risus, eget tincidunt ipsum. Sed eu velit ac augue ultricies efficitur.</p>
  <p>Cras vulputate ex nec nisi tristique, non pharetra purus dictum.</p>
  <p>Vestibulum viverra metus non dictum luctus. Morbi suscipit sem non dui malesuada, a euismod purus imperdiet.</p>
  <p>Fusce luctus elit vel sapien blandit, sit amet fringilla augue interdum.</p>

  <h4 id="subsubsection-1-1-1">Subsubsection 1.1.1</h4>
  <p>Example content for h4 level. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
  <p>Ut malesuada, massa a hendrerit fermentum, sem dui luctus urna, vel suscipit sapien dolor sit amet mauris.</p>
  <p>Aliquam nec metus commodo, lacinia libero nec, rhoncus nisi.</p>

  <h4 id="subsubsection-1-1-2">Subsubsection 1.1.2</h4>
  <p>Example content for another h4. Donec at ante ut nulla gravida accumsan.</p>
  <p>Mauris vel augue et nunc bibendum congue. Duis sit amet felis id velit interdum finibus.</p>
  <p>Quisque laoreet nisl vel metus sodales fermentum.</p>

  <h3 id="subsection-1-2">Subsection 1.2</h3>
  <p>Integer euismod, nisl a sodales varius, ex eros suscipit nulla, ac varius metus turpis ac lacus.</p>
  <p>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas.</p>
  <p>Curabitur sodales, nisl a tempor tristique, nulla mi ullamcorper orci, non porta lectus mi sed massa.</p>
  <p>Phasellus ac lectus nec ipsum pretium euismod. Nam porttitor metus eget malesuada elementum.</p>
  <p>Vivamus sagittis orci nec risus feugiat, nec feugiat justo venenatis.</p>
  <p>Nunc ac nisi feugiat, tristique odio eget, hendrerit ipsum.</p>

  <h2 id="section-2">Section 2</h2>
  <p>Fusce facilisis massa id dui tincidunt, vel ultricies est gravida. Aliquam erat volutpat.</p>
  <p>Proin ac arcu eu augue bibendum commodo. Donec feugiat metus nec magna tincidunt.</p>
  <p>Sed et ligula tincidunt, luctus purus a, tristique ipsum. Donec vitae arcu est.</p>
  <p>Sed bibendum, lacus nec fermentum ullamcorper, eros eros vehicula magna.</p>
  <p>Phasellus posuere felis nec ligula feugiat ullamcorper. Duis sed lacinia sapien.</p>
  <p>Praesent at lacinia nibh. Suspendisse et erat velit. Nullam ac nunc felis.</p>
  <p>Donec viverra magna sit amet faucibus viverra. Pellentesque sed facilisis ipsum.</p>
  <p>Aliquam iaculis ligula eu massa gravida, eget dignissim neque iaculis.</p>
  <p>Morbi ut ligula fringilla, luctus risus in, feugiat justo.</p>

  <h2 id="conclusion">Conclusion</h2>
  <p>Donec tristique elit in erat ultricies, nec malesuada turpis dapibus.</p>
  <p>Aliquam erat volutpat. Cras nec est eros. Donec at convallis nisi.</p>
  <p>Sed rhoncus, urna nec posuere gravida, nisi justo varius erat, nec convallis eros nisl eget ligula.</p>
  <p>Suspendisse tincidunt orci in orci pharetra, vitae porta leo faucibus.</p>
  <p>Aenean fringilla dui id sapien dictum, eget tristique ipsum fermentum.</p>
  <p>Integer a libero eget nisl bibendum feugiat. Vestibulum eu bibendum erat.</p>
</div>


<!-- CSS -->
<style>
.page-content {
  margin-right: 270px; /* push main text to the left of sidebar */
  max-width: 700px;
  padding: 1rem;
}

.sidebar-toc {
  position: fixed;
  top: 100px;
  right: 20px;
  width: 220px;
  max-height: 80vh;
  overflow-y: auto;
  padding: 1rem;
  background: #f8f9fa;
  border: 1px solid #ddd;
  border-radius: 8px;
  font-size: 0.95rem;
  z-index: 999;
}

.sidebar-toc h3 {
  margin-top: 0;
  font-size: 1.1rem;
  border-bottom: 1px solid #ccc;
  padding-bottom: 0.5rem;
}

.sidebar-toc ul {
  list-style: none;
  padding-left: 0;
  margin: 0;
}

.sidebar-toc li {
  margin: 0.4rem 0;
}

.sidebar-toc ul ul {
  margin-left: 1rem; /* indent nested levels (for h3) */
  font-size: 0.9rem;
}

.sidebar-toc ul ul ul {
  margin-left: 1.2rem; /* indent further for h4 */
  font-size: 0.85rem;
}

.sidebar-toc a {
  text-decoration: none;
  color: #333;
}

.sidebar-toc a:hover {
  color: #007acc;
}

.sidebar-toc a.active {
  font-weight: bold;
  color: #007acc;
}
</style>

<script>
document.addEventListener("DOMContentLoaded", function () {
  document.addEventListener("scroll", function () {
    const links = document.querySelectorAll(".sidebar-toc a");
    let current = "";
    document.querySelectorAll("h2, h3, h4").forEach(section => {
      const sectionTop = section.getBoundingClientRect().top + window.pageYOffset - 130;
      if (window.scrollY >= sectionTop) {
        current = section.getAttribute("id");
      }
    });

    links.forEach(link => {
      link.classList.remove("active");
      if (link.getAttribute("href") === "#" + current) {
        link.classList.add("active");

        const toc = document.querySelector(".sidebar-toc");
        if (toc) {
          const linkRect = link.getBoundingClientRect();
          const tocRect = toc.getBoundingClientRect();

          if (linkRect.top < tocRect.top || linkRect.bottom > tocRect.bottom) {
            link.scrollIntoView({
              block: "center",
              behavior: "smooth"
            });
          }
        }
      }
    });
  });
});
</script>

